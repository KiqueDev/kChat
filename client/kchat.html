<head>
  <title>kChat</title>
</head>

<body>
  {{> page}}
</body>

<template name="main">
  <div style="float:left">
    <h1>Welcome To kChat</h1>
      <div>
        {{#if currentUser}}
          <h2>Lobby</h2>

          <div>
            <h3>Create Room</h3>
            Room Title:<input type="text" id="roomTitle"/>
            <br/>
            <button type="button" id="createRoom"> New </button>
          </div>

          {{#if roomCount}}
            <h1>{{roomCount}} Available Rooms Now</h1>
            {{#each waitingRoom }}
              <div>
                {{roomTitle}}
                 <button type="button" class="joinRoom" roomId="{{_id}}" roomTitle="{{roomTitle}}"> Join </button>
              </div>
            {{/each}}
          {{/if}}

        {{else}}

            {{#if roomCount}}
            <h1>{{roomCount}} Available Rooms Now</h1>
            {{#each waitingRoom }}
              <div>
                {{roomTitle}}
              </div>
            {{/each}}
          {{/if}}

        {{/if}}
      </div>
  </div>

  <div style="float:right">
    {{loginButtons align="right"}}
  </div>

</template>

<template name="room">
  <div>
      <h1>{{rTitle}}</h1>
      <h6>{{rID}}</h6>
      <h3>Chatting With:</h3>
      {{ peopleInRoom }}
      <br/>
      <button id="goout" >Got Out of the Room</button>

      <br/>
      <div id="sendDiv">
         <textarea rows="5" cols="50" id="messageTextArea"></textarea>
         <button id="sendMessage" class="sendMessageClass">Send</button>
      </div>

  </div>

</template>

<template name="page">
  {{#if inRoom}}
    {{> room }}
  {{else}}
    {{> main}}
  {{/if}}
</template>

<template name="messageLogs">
    <div id="textAreaDiv">
       <textarea rows="15" cols="60" id="mainTextArea" readonly="true"></textarea>
    </div>
</template>


